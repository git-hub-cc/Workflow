<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>案件录入 - 穗源保险公估一体化业务管理平台</title>
    <link rel="stylesheet" href="style.css">
    <style>
        /* 页面专属样式 */
        .page-header-extra {
            position: absolute;
            top: 24px;
            right: 24px;
        }
        .form-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr); /* 改为4列以适应更复杂的布局 */
            gap: 20px 30px;
            align-items: center; /* 垂直居中对齐 */
        }
        .form-item {
            grid-column: span 2; /* 默认表单项占2列 */
            display: flex;
            align-items: center;
        }
        .form-item.full-width {
            grid-column: 1 / -1; /* 占满整行 */
        }
        .form-item.col-span-1 {
            grid-column: span 1; /* 占1列 */
        }
        .form-item > label {
            margin-bottom: 0;
            color: var(--text-color-regular);
            font-weight: 500;
            width: 110px; /* 固定标签宽度 */
            text-align: right;
            padding-right: 12px;
            flex-shrink: 0;
        }
        .form-item .input-wrapper {
            flex-grow: 1;
            width: 100%;
        }
        .form-item input, .form-item select, .form-item textarea {
            width: 100%;
            padding: 8px 12px;
            border: 1px solid var(--border-color-base);
            border-radius: var(--border-radius-base);
            font-size: 14px;
            transition: border-color 0.2s;
            box-sizing: border-box;
        }
        .form-item input:focus, .form-item select:focus, .form-item textarea:focus {
            outline: none;
            border-color: var(--primary-color);
        }
        .form-item textarea {
            min-height: 80px;
            resize: vertical;
        }
        .form-actions {
            grid-column: 1 / -1;
            text-align: center; /* 按钮居中 */
            padding-top: 20px;
            border-top: 1px solid var(--border-color-light);
            margin-top: 10px;
        }
        .btn {
            padding: 8px 20px;
            border-radius: var(--border-radius-base);
            border: 1px solid transparent;
            font-size: 14px;
            cursor: pointer;
            transition: all 0.2s;
            margin: 0 5px;
        }
        .btn-primary {
            background-color: var(--primary-color);
            color: #fff;
            border-color: var(--primary-color);
        }
        .btn-primary:hover {
            opacity: 0.8;
        }
        .btn-secondary {
            background-color: #fff;
            color: var(--text-color-regular);
            border-color: var(--border-color-base);
        }
        .btn-secondary:hover {
            color: var(--primary-color);
            border-color: var(--primary-color);
        }
        .btn-secondary:disabled {
            color: #C0C4CC;
            cursor: not-allowed;
            background-color: #F5F7FA;
            border-color: #EBEEF5;
        }

        .form-radio-group label, .form-checkbox-group label {
            margin-right: 20px;
            font-weight: normal;
            display: inline-flex;
            align-items: center;
            cursor: pointer;
        }
        .form-radio-group input, .form-checkbox-group input {
            margin-right: 6px;
        }
        .required-mark {
            color: #F56C6C;
            margin-right: 4px;
        }
        .form-item > label .required-mark {
            float: left;
        }
        .input-group {
            display: flex;
            align-items: center;
            gap: 8px;
        }
        .input-group input[disabled] {
            background-color: #F5F7FA;
            cursor: not-allowed;
        }
        .input-group .btn-text {
            background: none;
            border: none;
            color: var(--primary-color);
            cursor: pointer;
            padding: 0;
            white-space: nowrap;
        }
    </style>
</head>
<body>
<div class="app-container">
    <!-- 侧边导航栏 -->
    <aside class="sidebar">
        <div class="sidebar-header">
            穗源保险公估
        </div>
        <ul class="sidebar-nav">
            <li class="sidebar-nav-item"><a href="dispatcher_dispatch_center.html">派单中心</a></li>
            <li class="sidebar-nav-item active"><a href="dispatcher_case_entry.html">案件录入</a></li>
            <li class="sidebar-nav-item"><a href="dispatcher_task_query.html">任务查询</a></li>
        </ul>
    </aside>

    <!-- 主内容区 -->
    <div class="main-wrapper">
        <!-- 顶部栏 -->
        <header class="header">
            <div class="user-profile">
                <div class="avatar" style="background-color: #E6A23C;">王</div>
                <span>王芳 (调度员)</span>
            </div>
        </header>

        <!-- 页面内容 -->
        <main class="main-content">
            <h1 class="page-title">创建新案件</h1>

            <div class="card">
                <div class="card-header">案件委托单</div>
                <button class="btn btn-secondary page-header-extra">清空</button>

                <form>
                    <!-- 产品类型 - 公共 -->
                    <div class="form-grid" style="padding-bottom: 20px; border-bottom: 1px solid var(--border-color-light);">
                        <div class="form-item full-width">
                            <label><span class="required-mark">*</span>产品类型</label>
                            <div class="input-wrapper form-radio-group">
                                <input type="radio" id="pt-car" name="product-type" value="car" checked><label for="pt-car">车险</label>
                                <input type="radio" id="pt-health" name="product-type" value="health"><label for="pt-health">健康险</label>
                                <input type="radio" id="pt-distributed" name="product-type" value="distributed"><label for="pt-distributed">分散型产品</label>
                            </div>
                        </div>
                    </div>


                    <!-- ==================== 车险表单 START ==================== -->
                    <div id="form-car" class="form-content form-grid" style="padding-top: 20px;">
                        <div class="form-item full-width">
                            <label><span class="required-mark">*</span>委托内容</label>
                            <div class="input-wrapper form-checkbox-group">
                                <input type="checkbox" id="c1" checked><label for="c1">查勘</label>
                                <input type="checkbox" id="c2" checked><label for="c2">标的定损</label>
                                <input type="checkbox" id="c3" checked><label for="c3">三者定损</label>
                                <input type="checkbox" id="c4"><label for="c4">物损</label>
                            </div>
                        </div>
                        <div class="form-item">
                            <label for="insurer-car"><span class="required-mark">*</span>承保方</label>
                            <div class="input-wrapper">
                                <select id="insurer-car">
                                    <option>平安保险</option>
                                    <option>人保财险</option>
                                    <option>太平洋保险</option>
                                </select>
                            </div>
                        </div>
                        <div class="form-item">
                            <label for="case-no-car"><span class="required-mark">*</span>报案号</label>
                            <div class="input-wrapper"><input type="text" id="case-no-car" placeholder="报案号"></div>
                        </div>
                        <div class="form-item">
                            <label for="incident-time-car"><span class="required-mark">*</span>出险时间</label>
                            <div class="input-wrapper"><input type="datetime-local" id="incident-time-car" value="2025-09-20T11:01"></div>
                        </div>
                        <div class="form-item">
                            <label for="incident-location-car"><span class="required-mark">*</span>出险地点</label>
                            <div class="input-wrapper"><input type="text" id="incident-location-car" placeholder="出险地点"></div>
                        </div>
                        <div class="form-item">
                            <label for="license-plate"><span class="required-mark">*</span>标的车牌</label>
                            <div class="input-wrapper"><input type="text" id="license-plate" placeholder="标的车牌"></div>
                        </div>
                        <div class="form-item">
                            <label for="insured-person">被保险人</label>
                            <div class="input-wrapper"><input type="text" id="insured-person" placeholder="被保险人"></div>
                        </div>
                        <div class="form-item">
                            <label for="contact-person"><span class="required-mark">*</span>联系人 (标的)</label>
                            <div class="input-wrapper"><input type="text" id="contact-person" placeholder="联系人姓名 - 联系电话"></div>
                        </div>
                        <div class="form-item">
                            <label for="third-party-contact">联系人 (三者)</label>
                            <div class="input-wrapper"><input type="text" id="third-party-contact" placeholder="联系人姓名 - 联系电话"></div>
                        </div>
                        <div class="form-item full-width">
                            <label for="accident-desc-car">事故经过</label>
                            <div class="input-wrapper"><textarea id="accident-desc-car" placeholder="请描述事故经过..."></textarea></div>
                        </div>
                        <div class="form-item full-width">
                            <label for="attachment">委托函附件</label>
                            <div class="input-wrapper"><input type="file" id="attachment"></div>
                        </div>
                    </div>
                    <!-- ==================== 车险表单 END ==================== -->

                    <!-- ==================== 健康险表单 START ==================== -->
                    <div id="form-health" class="form-content form-grid" style="display: none; padding-top: 20px;">
                        <div class="form-item full-width">
                            <label><span class="required-mark">*</span>委托内容</label>
                            <div class="input-wrapper form-radio-group">
                                <input type="radio" id="h-c1" name="commission-health" checked><label for="h-c1">查勘</label>
                                <input type="radio" id="h-c2" name="commission-health"><label for="h-c2">医核探视</label>
                                <input type="radio" id="h-c3" name="commission-health"><label for="h-c3">人伤跟踪</label>
                                <input type="radio" id="h-c4" name="commission-health"><label for="h-c4">人伤调解</label>
                                <input type="radio" id="h-c5" name="commission-health"><label for="h-c5">跨省残调</label>
                                <input type="radio" id="h-c6" name="commission-health"><label for="h-c6">人伤稽查</label>
                            </div>
                        </div>
                        <div class="form-item full-width">
                            <label><span class="required-mark">*</span>报损内容</label>
                            <div class="input-wrapper form-radio-group">
                                <input type="radio" id="h-l1" name="loss-health" checked><label for="h-l1">人伤查勘</label>
                                <input type="radio" id="h-l2" name="loss-health"><label for="h-l2">人伤定损</label>
                            </div>
                        </div>
                        <div class="form-item">
                            <label for="insurer-health"><span class="required-mark">*</span>承保方</label>
                            <div class="input-wrapper"><input type="text" id="insurer-health" placeholder="搜索选择"></div>
                        </div>
                        <div class="form-item">
                            <label for="case-no-health"><span class="required-mark">*</span>报案号</label>
                            <div class="input-wrapper"><input type="text" id="case-no-health" placeholder="报案号"></div>
                        </div>
                        <div class="form-item">
                            <label for="report-time-health"><span class="required-mark">*</span>报案时间</label>
                            <div class="input-wrapper"><input type="datetime-local" id="report-time-health" value="2025-09-20T11:01:31"></div>
                        </div>
                        <div class="form-item">
                            <label for="incident-time-health"><span class="required-mark">*</span>出险时间</label>
                            <div class="input-wrapper"><input type="datetime-local" id="incident-time-health" value="2025-09-20T11:01:31"></div>
                        </div>
                        <div class="form-item">
                            <label for="site-contact-health"><span class="required-mark">*</span>现场联系人</label>
                            <div class="input-wrapper"><input type="text" id="site-contact-health" placeholder="现场联系人"></div>
                        </div>
                        <div class="form-item">
                            <label for="site-phone-health"><span class="required-mark">*</span>联系电话</label>
                            <div class="input-wrapper"><input type="text" id="site-phone-health" placeholder="联系电话"></div>
                        </div>
                        <div class="form-item">
                            <label for="injured-name-health"><span class="required-mark">*</span>伤者姓名</label>
                            <div class="input-wrapper"><input type="text" id="injured-name-health" placeholder="伤者姓名"></div>
                        </div>
                        <div class="form-item">
                            <label for="injured-phone-health"><span class="required-mark">*</span>伤者电话</label>
                            <div class="input-wrapper"><input type="text" id="injured-phone-health" placeholder="伤者电话"></div>
                        </div>
                        <div class="form-item">
                            <label for="handler-health"><span class="required-mark">*</span>对接人</label>
                            <div class="input-wrapper"><input type="text" id="handler-health" placeholder="对接人"></div>
                        </div>
                        <div class="form-item">
                            <label for="handler-phone-health">电话</label>
                            <div class="input-wrapper"><input type="text" id="handler-phone-health" placeholder="电话"></div>
                        </div>
                        <div class="form-item full-width">
                            <label for="hospital-loc-health"><span class="required-mark">*</span>医院地点</label>
                            <div class="input-wrapper input-group">
                                <input type="text" id="hospital-loc-health" placeholder="医院地点" style="flex-grow: 1;">
                                <button type="button" class="btn-text">手动解析 &raquo;</button>
                                <input type="text" placeholder="地点省份" disabled style="width: 100px;">
                                <input type="text" placeholder="地点城市" disabled style="width: 100px;">
                                <input type="text" placeholder="地点区域" disabled style="width: 100px;">
                            </div>
                        </div>
                        <div class="form-item full-width">
                            <label for="accident-desc-health"><span class="required-mark">*</span>事故描述</label>
                            <div class="input-wrapper"><textarea id="accident-desc-health" placeholder="事故描述"></textarea></div>
                        </div>
                        <div class="form-item col-span-1">
                            <label for="courier-addr-health">快递地址</label>
                            <div class="input-wrapper"><input type="text" id="courier-addr-health" placeholder="请选择省/市/区"></div>
                        </div>
                        <div class="form-item col-span-1">
                            <div class="input-wrapper"><input type="text" placeholder="详细地址"></div>
                        </div>
                        <div class="form-item col-span-1">
                            <label for="recipient-health">收件人</label>
                            <div class="input-wrapper"><input type="text" id="recipient-health" placeholder="收件人"></div>
                        </div>
                        <div class="form-item col-span-1">
                            <label for="recipient-phone-health">电话</label>
                            <div class="input-wrapper"><input type="text" id="recipient-phone-health" placeholder="电话"></div>
                        </div>
                    </div>
                    <!-- ==================== 健康险表单 END ==================== -->

                    <!-- ==================== 分散型产品表单 START ==================== -->
                    <div id="form-distributed" class="form-content form-grid" style="display: none; padding-top: 20px;">
                        <div class="form-item full-width">
                            <label><span class="required-mark">*</span>委托类型</label>
                            <div class="input-wrapper form-radio-group">
                                <input type="radio" id="d-t1" name="commission-dist" checked><label for="d-t1">货运险</label>
                                <input type="radio" id="d-t2" name="commission-dist"><label for="d-t2">家财险</label>
                                <input type="radio" id="d-t3" name="commission-dist"><label for="d-t3">责任险</label>
                                <input type="radio" id="d-t4" name="commission-dist"><label for="d-t4">工程机械</label>
                                <input type="radio" id="d-t5" name="commission-dist"><label for="d-t5">其他</label>
                            </div>
                        </div>
                        <div class="form-item full-width">
                            <label><span class="required-mark">*</span>理赔工具</label>
                            <div class="input-wrapper form-radio-group">
                                <input type="radio" id="d-l1" name="tool-dist" checked><label for="d-l1">工具箱</label>
                                <input type="radio" id="d-l2" name="tool-dist"><label for="d-l2">公路</label>
                                <input type="radio" id="d-l3" name="tool-dist"><label for="d-l3">铁路</label>
                                <input type="radio" id="d-l4" name="tool-dist"><label for="d-l4">航空</label>
                                <input type="radio" id="d-l5" name="tool-dist"><label for="d-l5">水路</label>
                            </div>
                        </div>
                        <div class="form-item">
                            <label for="insurer-dist"><span class="required-mark">*</span>承保方</label>
                            <div class="input-wrapper"><input type="text" id="insurer-dist" placeholder="搜索选择"></div>
                        </div>
                        <div class="form-item">
                            <label for="case-no-dist"><span class="required-mark">*</span>报案号</label>
                            <div class="input-wrapper"><input type="text" id="case-no-dist" placeholder="报案号"></div>
                        </div>
                        <div class="form-item">
                            <label for="tech-support-dist"><span class="required-mark">*</span>技术支持</label>
                            <div class="input-wrapper"><input type="text" id="tech-support-dist" placeholder="技术支持"></div>
                        </div>
                        <div class="form-item">
                            <label for="tech-phone-dist"><span class="required-mark">*</span>联系电话</label>
                            <div class="input-wrapper"><input type="text" id="tech-phone-dist" placeholder="联系电话"></div>
                        </div>
                        <div class="form-item">
                            <label for="subject-dist"><span class="required-mark">*</span>保险标的</label>
                            <div class="input-wrapper"><input type="text" id="subject-dist" placeholder="保险标的"></div>
                        </div>
                        <div class="form-item">
                            <label for="insurance-contact-dist"><span class="required-mark">*</span>保险联系人</label>
                            <div class="input-wrapper"><input type="text" id="insurance-contact-dist" placeholder="保险联系人"></div>
                        </div>
                        <div class="form-item">
                            <label for="site-contact-dist"><span class="required-mark">*</span>现场联系人</label>
                            <div class="input-wrapper"><input type="text" id="site-contact-dist" placeholder="现场联系人"></div>
                        </div>
                        <div class="form-item">
                            <label for="site-phone-dist"><span class="required-mark">*</span>联系电话</label>
                            <div class="input-wrapper"><input type="text" id="site-phone-dist" placeholder="联系电话"></div>
                        </div>
                        <div class="form-item">
                            <label for="incident-time-dist"><span class="required-mark">*</span>出险时间</label>
                            <div class="input-wrapper"><input type="datetime-local" id="incident-time-dist" value="2025-09-20T11:01:50"></div>
                        </div>
                        <div class="form-item">
                            <label for="time-limit-dist"><span class="required-mark">*</span>时限要求</label>
                            <div class="input-wrapper"><input type="datetime-local" id="time-limit-dist" value="2025-09-20T11:01:50"></div>
                        </div>
                        <div class="form-item full-width">
                            <label for="incident-loc-dist"><span class="required-mark">*</span>出险地点</label>
                            <div class="input-wrapper input-group">
                                <input type="text" id="incident-loc-dist" placeholder="出险地点" style="flex-grow: 1;">
                                <button type="button" class="btn-text">手动解析 &raquo;</button>
                                <input type="text" placeholder="地点省份" disabled style="width: 100px;">
                                <input type="text" placeholder="地点城市" disabled style="width: 100px;">
                                <input type="text" placeholder="地点区域" disabled style="width: 100px;">
                            </div>
                        </div>
                        <div class="form-item full-width">
                            <label for="estimated-loss-dist">估损金额</label>
                            <div class="input-wrapper" style="position: relative;">
                                <input type="text" id="estimated-loss-dist" placeholder="估损金额" style="padding-right: 30px;">
                                <span style="position: absolute; right: 10px; top: 50%; transform: translateY(-50%); color: #909399;">元</span>
                            </div>
                        </div>
                        <div class="form-item full-width">
                            <label for="incident-cause-dist"><span class="required-mark">*</span>出险原因</label>
                            <div class="input-wrapper"><textarea id="incident-cause-dist" placeholder="出险原因"></textarea></div>
                        </div>
                        <div class="form-item">
                            <label for="courier-addr-dist">快递地址</label>
                            <div class="input-wrapper"><input type="text" id="courier-addr-dist" placeholder="快递地址"></div>
                        </div>
                        <div class="form-item">
                            <label for="recipient-dist">收件人</label>
                            <div class="input-wrapper"><input type="text" id="recipient-dist" placeholder="收件人"></div>
                        </div>
                        <div class="form-item">
                            <label for="recipient-phone-dist">电话</label>
                            <div class="input-wrapper"><input type="text" id="recipient-phone-dist" placeholder="电话"></div>
                        </div>
                    </div>
                    <!-- ==================== 分散型产品表单 END ==================== -->

                    <div class="form-actions">
                        <button type="button" class="btn btn-secondary">自行派单</button>
                        <button type="button" class="btn btn-secondary" disabled>转服务机构</button>
                        <a href="dispatcher_dispatch_center.html" class="btn btn-primary">转调度中心</a>
                    </div>
                </form>
            </div>
        </main>
    </div>
</div>

<script src="demo_helper.js"></script>
<script>
    document.addEventListener('DOMContentLoaded', function() {
        const productTypeRadios = document.querySelectorAll('input[name="product-type"]');
        const formContents = document.querySelectorAll('.form-content');

        function switchForm(selectedValue) {
            formContents.forEach(form => {
                if (form.id === `form-${selectedValue}`) {
                    form.style.display = 'grid';
                } else {
                    form.style.display = 'none';
                }
            });
        }

        productTypeRadios.forEach(radio => {
            radio.addEventListener('change', function() {
                switchForm(this.value);
            });
        });

        // 初始化显示正确的表单
        const initialSelectedValue = document.querySelector('input[name="product-type"]:checked').value;
        switchForm(initialSelectedValue);
    });
</script>
</body>
</html>