<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>派单中心 - 穗源保险公估一体化业务管理平台</title>
    <link rel="stylesheet" href="style.css">
    <style>
        /* 页面专属样式 */
        .dispatch-layout {
            display: flex;
            gap: 20px;
            height: calc(100vh - var(--header-height) - 100px); /* 视口高度减去头部和padding */
        }
        .case-pool, .assignment-panel {
            background-color: #fff;
            border: 1px solid var(--border-color-light);
            border-radius: var(--border-radius-base);
            padding: 0;
            display: flex;
            flex-direction: column;
        }
        .case-pool {
            flex: 1;
        }
        .assignment-panel {
            flex: 1.2;
        }
        .panel-header {
            padding: 15px 20px;
            font-size: 16px;
            font-weight: 600;
            border-bottom: 1px solid var(--border-color-lighter);
            flex-shrink: 0;
        }
        .panel-content {
            padding: 20px;
            overflow-y: auto;
        }

        .case-card {
            border: 1px solid var(--border-color-base);
            border-radius: var(--border-radius-base);
            padding: 15px;
            margin-bottom: 15px;
            cursor: pointer;
            transition: all 0.2s;
        }
        .case-card.active, .case-card:hover {
            border-color: var(--primary-color);
            box-shadow: 0 0 10px var(--primary-light-color);
        }
        .case-card-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 10px;
        }
        .case-id {
            font-weight: bold;
            color: var(--text-color-primary);
        }
        .case-tag {
            padding: 3px 8px;
            font-size: 12px;
            border-radius: var(--border-radius-base);
            background-color: var(--primary-light-color);
            color: var(--primary-color);
        }
        .case-card-body p {
            margin: 5px 0;
            color: var(--text-color-regular);
            font-size: 13px;
        }

        /* -- 优化后的指派面板样式 -- */
        .assignment-task-group {
            margin-bottom: 20px;
        }
        .task-header {
            margin-bottom: 15px;
        }
        .task-header h4 {
            margin: 0 0 5px 0;
            font-size: 15px;
        }
        .task-header .task-status {
            color: var(--warning-color);
            font-weight: normal;
            font-size: 14px;
        }
        .task-sub-header {
            font-size: 13px;
            color: var(--text-color-secondary);
            margin: 0;
        }
        .task-separator {
            border: none;
            border-top: 1px solid var(--border-color-lighter);
            margin: 25px 0;
        }

        .surveyor-list {
            list-style: none;
            padding: 0;
        }
        .surveyor-list li {
            display: flex;
            align-items: center;
            padding: 12px 0;
            border-bottom: 1px solid var(--border-color-lighter);
        }
        .surveyor-list li:last-child {
            border-bottom: none;
        }
        .surveyor-avatar {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background-color: #f0f0f0;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            margin-right: 15px;
        }
        .surveyor-info { flex-grow: 1; }
        .surveyor-info .name { font-weight: 500; }
        .surveyor-info .details { font-size: 13px; color: var(--text-color-secondary); }
        .status-dot { display: inline-block; width: 8px; height: 8px; border-radius: 50%; margin-right: 5px; }
        .status-dot.idle { background-color: var(--success-color); }
        .status-dot.busy { background-color: var(--danger-color); }

        .btn {
            padding: 8px 15px;
            border-radius: var(--border-radius-base);
            border: 1px solid transparent;
            font-size: 14px;
            cursor: pointer;
            transition: all 0.2s;
        }
        .btn-primary {
            background-color: var(--primary-color);
            color: #fff;
            border-color: var(--primary-color);
        }
        .btn-primary:hover { opacity: 0.8; }
    </style>
</head>
<body>
<div class="app-container">
    <!-- 侧边导航栏 -->
    <aside class="sidebar">
        <div class="sidebar-header">
            穗源保险公估
        </div>
        <ul class="sidebar-nav">
            <li class="sidebar-nav-item active"><a href="dispatcher_dispatch_center.html">派单中心</a></li>
            <li class="sidebar-nav-item"><a href="dispatcher_case_entry.html">案件录入</a></li>
            <li class="sidebar-nav-item"><a href="dispatcher_task_query.html">任务查询</a></li>
            <li class="sidebar-nav-item"><a href="dispatcher_schedule_management.html">排班管理</a></li>
        </ul>
    </aside>

    <!-- 主内容区 -->
    <div class="main-wrapper">
        <!-- 顶部栏 -->
        <header class="header">
            <div class="user-profile">
                <div class="avatar" style="background-color: #E6A23C;">王</div>
                <span>王芳 (调度员)</span>
            </div>
        </header>

        <!-- 页面内容 -->
        <main class="main-content">
            <h1 class="page-title">派单中心</h1>
            <div class="dispatch-layout">
                <!-- 左侧：案件池 -->
                <div class="case-pool">
                    <div class="panel-header">待派单案件 (2)</div>
                    <div class="panel-content">
                        <div class="case-card active">
                            <div class="case-card-header">
                                <span class="case-id">SY-20240523-010</span>
                                <span class="case-tag" style="background-color: #fef0f0; color: #f56c6c;">查勘+定损</span>
                            </div>
                            <div class="case-card-body">
                                <p><strong>地点：</strong>广州市番禺区大学城外环西路</p>
                                <p><strong>车牌：</strong>粤A·EDU985</p>
                                <p><strong>委托内容：</strong>人伤查勘, 车物查勘, 车物定损</p>
                            </div>
                        </div>
                        <div class="case-card">
                            <div class="case-card-header">
                                <span class="case-id">SY-20240520-001</span>
                                <span class="case-tag">车物定损</span>
                            </div>
                            <div class="case-card-body">
                                <p><strong>地点：</strong>广州市天河区黄埔大道西668号</p>
                                <p><strong>车牌：</strong>粤A·88888</p>
                                <p><strong>委托内容：</strong>车物查勘, 车物定损</p>
                            </div>
                        </div>
                        <!-- 可以添加更多案件卡片 -->
                    </div>
                </div>
                <!-- 右侧：指派面板 -->
                <div class="assignment-panel">
                    <div class="panel-header">案件指派 - SY-20240523-010</div>
                    <div class="panel-content">
                        <!-- 任务组 1: 人伤查勘 -->
                        <div class="assignment-task-group">
                            <div class="task-header">
                                <h4>委托内容：人伤查勘 <span class="task-status">(待派单)</span></h4>
                            </div>
                            <ul class="surveyor-list">
                                <li>
                                    <div class="surveyor-avatar" style="background-color: #F8E8D5; color: #E6A23C;">吴</div>
                                    <div class="surveyor-info">
                                        <div class="name">吴静</div>
                                        <div class="details"><span class="status-dot idle"></span>广州番禺</div>
                                    </div>
                                    <button class="btn btn-primary">指派</button>
                                </li>
                                <li>
                                    <div class="surveyor-avatar" style="background-color: #D6EFFF; color: #409EFF;">陈</div>
                                    <div class="surveyor-info">
                                        <div class="name">陈浩</div>
                                        <div class="details"><span class="status-dot idle"></span>广州天河</div>
                                    </div>
                                    <button class="btn btn-primary">指派</button>
                                </li>
                            </ul>
                        </div>

                        <hr class="task-separator">

                        <!-- 任务组 2: 车物查勘 -->
                        <div class="assignment-task-group">
                            <div class="task-header">
                                <h4>委托内容：车物查勘 <span class="task-status">(待派单)</span></h4>
                            </div>
                            <ul class="surveyor-list">
                                <li>
                                    <div class="surveyor-avatar" style="background-color: #D6EFFF; color: #409EFF;">陈</div>
                                    <div class="surveyor-info">
                                        <div class="name">陈浩</div>
                                        <div class="details"><span class="status-dot idle"></span>广州天河</div>
                                    </div>
                                    <button class="btn btn-primary">指派</button>
                                </li>
                                <li>
                                    <div class="surveyor-avatar" style="background-color: #E1F3D8; color: #67C23A;">刘</div>
                                    <div class="surveyor-info">
                                        <div class="name">刘洋</div>
                                        <div class="details"><span class="status-dot idle"></span>广州白云</div>
                                    </div>
                                    <button class="btn btn-primary">指派</button>
                                </li>
                            </ul>
                        </div>

                        <hr class="task-separator">

                        <!-- 任务组 3: 车物定损 -->
                        <div class="assignment-task-group">
                            <div class="task-header">
                                <h4>委托内容：车物定损 <span class="task-status">(待派单)</span></h4>
                            </div>
                            <ul class="surveyor-list">
                                <li>
                                    <div class="surveyor-avatar" style="background-color: #D6EFFF; color: #409EFF;">陈</div>
                                    <div class="surveyor-info">
                                        <div class="name">陈浩</div>
                                        <div class="details"><span class="status-dot idle"></span>广州天河</div>
                                    </div>
                                    <button class="btn btn-primary">指派</button>
                                </li>
                                <li>
                                    <div class="surveyor-avatar" style="background-color: #FDE2E2; color: #F56C6C;">李</div>
                                    <div class="surveyor-info">
                                        <div class="name">李强</div>
                                        <div class="details"><span class="status-dot busy"></span>佛山顺德</div>
                                    </div>
                                    <button class="btn btn-primary" disabled style="background-color: #C0C4CC; border-color: #C0C4CC;">指派</button>
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>
</div>

<script src="demo_helper.js"></script>
</body>
</html>